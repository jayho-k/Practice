# 03_

**순수 자바 AppConfig**

```java
public class AppConfig {
    
 public MemberService memberService() {
     return new MemberServiceImpl(memberRepository());
 }
    
 public OrderService orderService() {
     return new OrderServiceImpl(
                 memberRepository(),
                 discountPolicy());
 }
    
 public MemberRepository memberRepository() {
 	return new MemoryMemberRepository();
 }
    
 public DiscountPolicy discountPolicy() {
	// return new FixDiscountPolicy();
 	return new RateDiscountPolicy();
 }
    
}
```



**Spring을 사용한 Config**

 ```java
 @Configuration
 
 public class AppConfig {
      @Bean
      public MemberService memberService() {
          return new MemberServiceImpl(memberRepository());
      }
     
      @Bean
      public OrderService orderService() {
      return new OrderServiceImpl(
                  memberRepository(),
                  discountPolicy());
      }
     
      @Bean
      public MemberRepository memberRepository() {
         return new MemoryMemberRepository();
      }
     
      @Bean
      public DiscountPolicy discountPolicy() {
          return new RateDiscountPolicy();
      }
 }
 ```

- @Configuration 추가
- 각 매소드에 @Bean 를 추가
  - Spring Container가 빈 등록 된 것을 다 관리해주게 된다.

**사용하기**

```java
public class MemberApp {
 public static void main(String[] args) {
// AppConfig appConfig = new AppConfig();
// MemberService memberService = appConfig.memberService();
 ApplicationContext ac = new AnnotationConfigApplicationContext(AppConfig.class);
 MemberService memberService = ac.getBean("memberService", MemberService.class);
 }
```

- AnnotationConfigApplicationContext를 생성( AppConfig 를 넣어줌 )
- getBean을 통해 얻음



**스프링 컨데이너**

- ApplicationContxt를 스프링 컨테이너라고 한다.
- **@Bean이라 적힌 매서드**를 모두 호출 => 반환된 객체를 **스프링 컨테이너에 등록**한다.
- 





















