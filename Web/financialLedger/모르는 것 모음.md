# 모르는 것 메모

- NoArgsConstructor : 파라미터가 없는 디폴트 생성자를 자동 생성

- AllArgsConstructor : 모든 필드값을 파라미터로 받는 생성자 자동 생성

- RequriedArgsConstructor : finaldlsk @NonNull으로 선언된 필드만을 파라미터로 받는 생성자를 자동 생성

- SuperBuilder

- Entity : 이 클래스를 엔티티로 관리하겠다는 뜻을 가진 어노테이션

  - 동작원리 한번 보고 정리할 것

- 

- ```
  @EntityListeners(AuditingEntityListener.class)
  - 시간을 자동으로 넣어줄 수 있는 기능을 가진 어노테이션
  ```

- 인터페이스와 추상클래스의 차이

  - 공통점
    - 상속받는 클래스 혹은 구현하는 인터페이스 안에 있는 추상 메소드를 구현하도록 강제 하는 것
  - 차이점
    - 추상클래스
      - 수상 클래스내 추상 메소드가 하나 이상 포함되거나 abstract로 정의된 경우
      - 목적 : 추상클래스를 상속 받아서 기능을 이용하고 확장시키는데 있다
        - 즉 기능을 이용하거나 확장하기 위해서 사용
    - 인터페이스
      - 오든 메소드가 추상메소드인 경우
      - 함수의 껍데기만 있다.
      - 구현한 객체들에 대해서 동일한 동작을 약속하기 위해서 존재
      - 

- @mant2one에 lazy사용하는 이유 다시 확인



@GeneratedValue 다시 살펴보기

연관관계 주인 ( Owner)다시 확인하기



조인 방법으로 Money 구성





카카오톡 로그인

- 카카오 로그인
  - OAuth 2.0 기반
    - 인증 : 사용자 신원을 확인
    - 인가 : 개인정보와 같은 자원에 대한 접근 권한 획득 (사용자 동의 필요, 토큰형태로 서비스부가)
    - 로그인 완료 => 토큰을 받음 => 토큰을 사용해서 회원가입이나, 정보갱신에 필요한 사용자 정보를 제공받을 수 있음
  - 토큰
    - Access token
      - 사용자 인증, 카카오API 호출 권한 부여
    - Refresh token
      - 엑세스 토큰 재발급에 사용한다. (매번 카카오계정 정보를 입력하거나 카카오톡으로 로그인하는 인증절차를 거치지 않아도 엑세스 토큰 재발급 가능)
        ==> 만료시간 2달 (만료 1달 남은 시점부터 갱신가능)
    - ID token
      - 카카오 로그인 사용자의 인증 정보를 제공

- 서비스 로그인 과정
  - 카카오 로그인
    1. 로그인 요청 (사용자 클라이언트)
    2. 인가 코드를 받기를 요청하는 것(서비스 서버에서 => 카카오 인증 서버에게) 
    3. 인증 및 동의 요청 (카카오 인증 서버)
    4. 로그인 및 동의 (사용자 클라이언트가)
    5. 사용자 동의 받고 나서 ==> 카카오 인증서버에서 인가코드를 발급함
    6. 앱에 등록된 Redirect URI를 통해서 클라이언트와 서비스 서버는 인가코드로 토큰 발급 요청
    7. 인증서버에서 토큰 발급 ==> 로그인 완료(토큰 정보 조회 및 검증 진행)
    
  - 회원 확인 및 가입
    1. 받은 토큰으로 사용자 정보 가져오기 요청
    2. 카카오 API서버에서 요청 검증 및 처리를 해줌
    3. 제공받은 사용자 정보로 서비스 회원 여부 확인 함 ==> 신규? 회원가입 처리함
    
  - 서비스 로그인
    1. 서버에서 서비스 세션 발급
    2. 클라이언트에서 로그인 완료 처리



HttpEntity

- HttpEntity 라는 클래스가 존재
- HTTP 요청, 응답에 해당하는 HttpHeader와 HttpBody를 포함하는 클래스이다.
- 여기서 HttpEntity를 상속받아 구현한 클래스가 RequestEntity와  ResponsEntity이다.
- 즉 Http 통신을 할때 format을 Class로 구현해 놓은 Entity 라고 이해하면 된다.



RestController 확인 필요

- @CrossOrigin("*")
  - CORS : 하나의 보안정책
    - 서로 다른 도메인에서 리소스를 공유하는 방식
    - 웹 페이지의 제한된 자원을 외부 도메인에서 접근을 허용해주는  매커니즘
    - 
  - 모든 도메인 모든 요청방식에 대해 허용한다는 뜻이다.
    - @CrossOrigin (origins = "http:// ...")

@Slf4j

```
@RequestBody
```



@superbuilder와 빌더의 차이점 



```
// 카테고리 Id를 찾을 때 Category의 이름과 회원 아이디로 찾아야함
// 또한 중복되는 카테고리가 있을 경우 만들지 못하도록 만들어야한다.
```



```
@EnableJpaAuditing
```



ResponseEntity<?> => 물음표는 뭐임? https://memo-the-day.tistory.com/185

```
ResponseEntity<? extends BaseResponseBody>
```





int와  Integer차이

- int는 자료형 : 평소에 사용
- Integer는 wrapper클래스 : null값을 사용할 때 또는 클래스로 비교해야할 떄 사용



