# Multi_Threading

CPU가 대기 할 경우가 많을 떄 주로 사용한다.

#### GIL

- Global Interpreter Lock

- 파이썬 인터프리터가 한 스레드만 하나의 바이트 코드를 실행시킬 수 있도록 해주는 Lock
  
  - 즉 하나의 스레드에 모든 자원을 허락하고 그 후에는 Lock을 걸어 다른 스레드는 실행할 수 없게 막아버리는 것

- Thread context switch에 따른 비용도 발생함 => 
  따라서 싱글스레드보다 오랜 시간이 걸림



#### Multi-Thread를 사용하는 이유

- I/O(입출력) 작업일 경우 멀티 쓰레드 효과를 볼 수 있다

- 이유
  
  - I/O작업은 CPU작업이 아니라서 GIL의 영향을 받지 않는다.
  
  - 따라서 반복 작업ㅇ이 I/O작업(입출력, 파일 다운로드 등)으로 이루어져 있다면 멀티 쓰레드를 이용하여 성능을 개선할 수 있다.
  
  - 파일 쓰기 같은 경우에는 I/O작업이 아니다



###### DMA

- IO 작업은 보통 CPU들에서 제공하는 DMA(Direct Memory Access)라는 기능으로 구동
  
  - DMA에 Queue를 구현하여 입출력데이터를 DMA로 IO동작시켜준다.
  
  - IO작업은 보통 연산속도가 매우 느림 => CPU는 빠름 => IO동작에 CPU연산성능 할당하면 리소스 낭비
  
  - 따라서 HW아키텍쳐 레벨에서 메모리간 데이터를 다이렉트로 전송해주기 위해 존재
  
  - 따라서 IO작업은 CPU리소스를 먹지 않음
















